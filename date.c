#include "date.h"


char datedigits[10][70] = {
	{'*','*','*','*','*',' ',' ','*','*',' ',' ','*','*',' ',' ','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*'},
	{' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*'},
	{'*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*'},
	{'*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*'},
	{'*',' ',' ','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*'},
	{'*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*'},
	{'*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*'},
	{'*','*','*','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*',' ',' ',' ','*'},
	{'*','*','*','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*'},
	{'*','*','*','*','*',' ',' ','*','*',' ',' ','*','*','*','*','*',' ',' ',' ','*',' ',' ',' ','*','*','*','*','*'}};
char timedigits[10][130] = {
{'*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'},
{' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*'},
{ '*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*','*','*','*','*','*','*','*','*','*'},
{ '*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'},
{ '*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*'},
{ '*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'},
{ '*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'},
{ '*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*'},
{ '*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'},
{ '*','*','*','*','*','*','*','*','*','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
' ',' ',' ',' ',' ',' ',' ',' ',' ','*',
'*','*','*','*','*','*','*','*','*','*'}};

void writeNumber(int hours, int minutes){
	int digits[4] = {0,0,0,0};
	digits[1] = hours%10;
	hours/=10;
	digits[0] = hours%10;
	digits[3] = minutes%10;
	minutes/=10;
	digits[2] = minutes%10;
	createNumber(digits[0],digits[1],digits[2],digits[3]);
}

	
void createDate(int d1,int d2, int d3,int d4,int d5,int d6, int d7, int d8){
	terminal_writestring("\n\n");
	for (int i = 0; i < 7; i++) {
		terminal_writestring("   ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d1][i * 4 + j]);
		}terminal_writestring(" ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d2][i * 4 + j]);
		}
		if(i==6) terminal_writestring(" * ");
		else terminal_writestring("   ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d3][i * 4 + j]);
		}terminal_writestring(" ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d4][i * 4 + j]);
		}
		if(i==6) terminal_writestring(" * ");
		else terminal_writestring("   ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d5][i * 4 + j]);
		}terminal_writestring(" ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d6][i * 4 + j]);
		}terminal_writestring(" ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d7][i * 4 + j]);
		}terminal_writestring(" ");
		for (int j = 0; j < 4; j++) {
			terminal_putchar(datedigits[d8][i * 4 + j]);
		}
		if(i==6) terminal_writestring(" * ");
		else terminal_writestring("   ");
		terminal_putchar('\n');
	}
}

void writeDate(int day, int month, int year){
	int datedigits[8] = {0,0,0,0,0,0,0,0};
	datedigits[1] = day%10;
	day/=10;
	datedigits[0] = day%10;
	datedigits[3] = month%10;
	month/=10;
	datedigits[2] = month%10;
	datedigits[7] = year%10;
	year/=10;
	datedigits[6] = year%10;
	//year/=10;
	datedigits[5] = 0;
	//year/=10;
	datedigits[4] = 2;
	createDate(datedigits[0],datedigits[1],datedigits[2],datedigits[3],datedigits[4],datedigits[5],datedigits[6],datedigits[7]);
}

int setDay(int inp){
	
	if(inp>=80)inp-=30;
	else if(inp>=64)inp-=24;
	else if(inp>=48)inp-=18;
	else if(inp>=32)inp-=12;
	else if(inp>=16)inp-=6;
	return inp;
	
}

int setMonth(int inp){
	
	if(inp>=80)inp-=30;
	else if(inp>=64)inp-=24;
	else if(inp>=48)inp-=18;
	else if(inp>=32)inp-=12;
	else if(inp>=16)inp-=6;
	return inp;
	
}

int setYear(int inp){
	
	if(inp>=80)inp-=30;
	else if(inp>=64)inp-=24;
	else if(inp>=48)inp-=18;
	else if(inp>=32)inp-=12;
	else if(inp>=16)inp-=6;
	return inp;
	
}
void createNumber(int firstDigit, int secondDigit, int thirdDigit, int fourthDigit) {
	terminal_initialize();
	terminal_writestring("\n\n");
	for (int i = 0; i < 13; i++) {
		terminal_writestring("  ");
		for (int j = 0; j < 10; j++) {
			terminal_putchar(timedigits[firstDigit][i * 10 + j]);
		}
		terminal_writestring("  ");
		for (int j = 0; j < 10; j++) {
			terminal_putchar(timedigits[secondDigit][i * 10 + j]);
		}
		terminal_writestring("  ");
		if (i == 2 || i == 3 || i == 9 || i == 10)
			terminal_writestring("**");
		else
			terminal_writestring("  ");
		terminal_writestring("  ");
		for (int j = 0; j < 10; j++) {
			terminal_putchar(timedigits[thirdDigit][i * 10 + j]);
		}
		terminal_writestring("  ");
		for (int j = 0; j < 10; j++) {
			terminal_putchar(timedigits[fourthDigit][i * 10 + j]);
		}
		terminal_putchar('\n');
	}
}

int setMinute(int inp){
	
	if(inp>=80)inp-=30;
	else if(inp>=64)inp-=24;
	else if(inp>=48)inp-=18;
	else if(inp>=32)inp-=12;
	else if(inp>=16)inp-=6;
	return inp;
	
}

int setHour(int inp){
	
	if(inp>=32)inp-=12;
	else if(inp>=16)inp-=6;
	inp+=2;
	return inp;
	
}